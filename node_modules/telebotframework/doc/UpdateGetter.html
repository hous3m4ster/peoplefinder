<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: UpdateGetter</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: UpdateGetter</h1>

    




<section>

<header>
    
        <h2>UpdateGetter</h2>
        
            <div class="class-description">Listens for updates to a telegram bot using the getUpdates-method of the API. Start it with the startLongpolling() method, and stop it with the stopLongpolling() method, or give it an array of updates received from a webhook or other sources through the processUpdates() method. Fires events on incoming updates. There is an "error" event, for any errors, "message", "inline_query" and "chosen_inline_result" events for the specific types of updates, and a generic "update" event, giving you the whole update object of all updates</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="UpdateGetter"><span class="type-signature"></span>new UpdateGetter<span class="signature">(api)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Creates a new update emitter which gets updates for the bot given
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>api</code></td>
            

            <td class="type">
            
                
<span class="param-type">BotAPI</span>


            
            </td>

            

            

            <td class="description last">The api to get updates for. Should be a api from <a href="https://www.npmjs.com/package/teleapiwrapper">teleapiwrapper</a></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="update_getter.js.html">update_getter.js</a>, <a href="update_getter.js.html#line19">line 19</a>
    </li></ul></dd>
    

    

    

    
</dl>
















    
    </div>

    
        <h3 class="subsection-title">Extends</h3>

        


    <ul>
        <li>EventEmitter</li>
    </ul>


    

    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="API"><span class="type-signature">(readonly) </span>API<span class="type-signature"> :BotAPI</span></h4>




<div class="description">
    The api this listener gets updates for. An instance of teleapiwrapper's <a href="https://doc.suppen.no/teleapiwrapper/BotAPI.html">BotAPI</a>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">BotAPI</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="update_getter.js.html">update_getter.js</a>, <a href="update_getter.js.html#line60">line 60</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="longpollingTimeout"><span class="type-signature"></span>longpollingTimeout<span class="type-signature"> :Integer</span></h4>




<div class="description">
    Max time to poll for updates before giving up. Unless the listener is stopped, a new request will be sent almost immediately. Setting this to a high number will reduce the load on your network, but may cause other problems. Don't use it unless you know what it is
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Integer</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="update_getter.js.html">update_getter.js</a>, <a href="update_getter.js.html#line69">line 69</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="processUpdates"><span class="type-signature"></span>processUpdates<span class="signature">(updates)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Processes update objects and fires events based on them. Useful if you prefer to use webhooks over long polling. Just send the update array to this method. Calling this method will automatically stop long polling if it is running
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>updates</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;Object></span>


            
            </td>

            

            

            <td class="description last">An array of <a href="https://core.telegram.org/bots/api#update">update</a> objects, possibly received from a webhook</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="update_getter.js.html">update_getter.js</a>, <a href="update_getter.js.html#line130">line 130</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="startLongpolling"><span class="type-signature"></span>startLongpolling<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Starts longpolling for updates, if not already started
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="update_getter.js.html">update_getter.js</a>, <a href="update_getter.js.html#line192">line 192</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="stopLongpolling"><span class="type-signature"></span>stopLongpolling<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Stop longpolling, if started
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="update_getter.js.html">update_getter.js</a>, <a href="update_getter.js.html#line202">line 202</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    

    

    
        <h3 class="subsection-title">Events</h3>

        
            

    

    <h4 class="name" id="event:chosen_inline_result">chosen_inline_result</h4>

    



<div class="description">
    Fires when a user has chosen an inline result from the bot
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>chosen_inline_result</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">The <a href="https://core.telegram.org/bots/api#choseninlineresult">inline result</a> chosen</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="update_getter.js.html">update_getter.js</a>, <a href="update_getter.js.html#line177">line 177</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="event:error">error</h4>

    



<div class="description">
    Error event, if anything went wrong while listening or processing updates
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>error</code></td>
            

            <td class="type">
            
                
<span class="param-type">Error</span>


            
            </td>

            

            

            <td class="description last">The error object</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="update_getter.js.html">update_getter.js</a>, <a href="update_getter.js.html#line111">line 111</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="event:inline_query">inline_query</h4>

    



<div class="description">
    Fires when the bot receives an inline query
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>inline_query</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">The <a href="https://core.telegram.org/bots/api#inlinequery">inline query</a> received</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="update_getter.js.html">update_getter.js</a>, <a href="update_getter.js.html#line168">line 168</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="event:message">message</h4>

    



<div class="description">
    Fires when the bot receives a message
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>message</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Message.html">Message</a></span>


            
            </td>

            

            

            <td class="description last">The <a href="https://core.telegram.org/bots/api#message">message</a> received, wrapped in a <a href="Message.html">Message</a> class</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="update_getter.js.html">update_getter.js</a>, <a href="update_getter.js.html#line159">line 159</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="event:update">update</h4>

    



<div class="description">
    Fires on all received updates
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>update</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">The <a href="https://core.telegram.org/bots/api#update">update</a> received</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="update_getter.js.html">update_getter.js</a>, <a href="update_getter.js.html#line147">line 147</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AudioMessage.html">AudioMessage</a></li><li><a href="ChannelChatCreatedMessage.html">ChannelChatCreatedMessage</a></li><li><a href="ChatMigratedMessage.html">ChatMigratedMessage</a></li><li><a href="CommandMessage.html">CommandMessage</a></li><li><a href="ContactMessage.html">ContactMessage</a></li><li><a href="DeleteChatPhotoMessage.html">DeleteChatPhotoMessage</a></li><li><a href="DocumentMessage.html">DocumentMessage</a></li><li><a href="FileMessage.html">FileMessage</a></li><li><a href="ForwardedMessage.html">ForwardedMessage</a></li><li><a href="GroupChatCreatedMessage.html">GroupChatCreatedMessage</a></li><li><a href="LeftChatParticipantMessage.html">LeftChatParticipantMessage</a></li><li><a href="LocationMessage.html">LocationMessage</a></li><li><a href="Message.html">Message</a></li><li><a href="MessageSorter.html">MessageSorter</a></li><li><a href="NewChatParticipantMessage.html">NewChatParticipantMessage</a></li><li><a href="NewChatPhotoMessage.html">NewChatPhotoMessage</a></li><li><a href="NewChatTitleMessage.html">NewChatTitleMessage</a></li><li><a href="PhotoMessage.html">PhotoMessage</a></li><li><a href="ReplyMessage.html">ReplyMessage</a></li><li><a href="StickerMessage.html">StickerMessage</a></li><li><a href="SupergroupChatCreatedMessage.html">SupergroupChatCreatedMessage</a></li><li><a href="TelegramBot.html">TelegramBot</a></li><li><a href="TextMessage.html">TextMessage</a></li><li><a href="UpdateGetter.html">UpdateGetter</a></li><li><a href="VideoMessage.html">VideoMessage</a></li><li><a href="VoiceMessage.html">VoiceMessage</a></li></ul><h3>Events</h3><ul><li><a href="MessageSorter.html#event:audio">audio</a></li><li><a href="MessageSorter.html#event:channel_chat_created">channel_chat_created</a></li><li><a href="MessageSorter.html#event:chat_migrated">chat_migrated</a></li><li><a href="MessageSorter.html#event:chosen_inline_result">chosen_inline_result</a></li><li><a href="MessageSorter.html#event:command">command</a></li><li><a href="MessageSorter.html#event:contact">contact</a></li><li><a href="MessageSorter.html#event:delete_chat_photo">delete_chat_photo</a></li><li><a href="MessageSorter.html#event:document">document</a></li><li><a href="MessageSorter.html#event:error">error</a></li><li><a href="MessageSorter.html#event:file">file</a></li><li><a href="MessageSorter.html#event:forward">forward</a></li><li><a href="MessageSorter.html#event:group_chat_created">group_chat_created</a></li><li><a href="MessageSorter.html#event:inline_query">inline_query</a></li><li><a href="MessageSorter.html#event:left_chat_participant">left_chat_participant</a></li><li><a href="MessageSorter.html#event:location">location</a></li><li><a href="MessageSorter.html#event:message">message</a></li><li><a href="MessageSorter.html#event:multi_type">multi_type</a></li><li><a href="MessageSorter.html#event:new_chat_participant">new_chat_participant</a></li><li><a href="MessageSorter.html#event:new_chat_photo">new_chat_photo</a></li><li><a href="MessageSorter.html#event:new_chat_title">new_chat_title</a></li><li><a href="MessageSorter.html#event:photo">photo</a></li><li><a href="MessageSorter.html#event:reply">reply</a></li><li><a href="MessageSorter.html#event:sticker">sticker</a></li><li><a href="MessageSorter.html#event:supergroup_chat_created">supergroup_chat_created</a></li><li><a href="MessageSorter.html#event:text">text</a></li><li><a href="MessageSorter.html#event:update">update</a></li><li><a href="MessageSorter.html#event:video">video</a></li><li><a href="MessageSorter.html#event:voice">voice</a></li><li><a href="TelegramBot.html#event:audio">audio</a></li><li><a href="TelegramBot.html#event:channel_chat_created">channel_chat_created</a></li><li><a href="TelegramBot.html#event:chat_migrated">chat_migrated</a></li><li><a href="TelegramBot.html#event:chosen_inline_result">chosen_inline_result</a></li><li><a href="TelegramBot.html#event:command">command</a></li><li><a href="TelegramBot.html#event:contact">contact</a></li><li><a href="TelegramBot.html#event:delete_chat_photo">delete_chat_photo</a></li><li><a href="TelegramBot.html#event:document">document</a></li><li><a href="TelegramBot.html#event:error">error</a></li><li><a href="TelegramBot.html#event:file">file</a></li><li><a href="TelegramBot.html#event:forward">forward</a></li><li><a href="TelegramBot.html#event:group_chat_created">group_chat_created</a></li><li><a href="TelegramBot.html#event:inline_query">inline_query</a></li><li><a href="TelegramBot.html#event:left_chat_participant">left_chat_participant</a></li><li><a href="TelegramBot.html#event:location">location</a></li><li><a href="TelegramBot.html#event:message">message</a></li><li><a href="TelegramBot.html#event:multi_type">multi_type</a></li><li><a href="TelegramBot.html#event:new_chat_participant">new_chat_participant</a></li><li><a href="TelegramBot.html#event:new_chat_photo">new_chat_photo</a></li><li><a href="TelegramBot.html#event:new_chat_title">new_chat_title</a></li><li><a href="TelegramBot.html#event:photo">photo</a></li><li><a href="TelegramBot.html#event:reply">reply</a></li><li><a href="TelegramBot.html#event:sticker">sticker</a></li><li><a href="TelegramBot.html#event:supergroup_chat_created">supergroup_chat_created</a></li><li><a href="TelegramBot.html#event:text">text</a></li><li><a href="TelegramBot.html#event:update">update</a></li><li><a href="TelegramBot.html#event:video">video</a></li><li><a href="TelegramBot.html#event:voice">voice</a></li><li><a href="UpdateGetter.html#event:chosen_inline_result">chosen_inline_result</a></li><li><a href="UpdateGetter.html#event:error">error</a></li><li><a href="UpdateGetter.html#event:inline_query">inline_query</a></li><li><a href="UpdateGetter.html#event:message">message</a></li><li><a href="UpdateGetter.html#event:update">update</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Fri Jan 22 2016 17:29:48 GMT+0100 (CET)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
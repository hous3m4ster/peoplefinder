"use strict";

/************
 * Requires *
 ************/

var Message = require("./message");

/*********************************
 * The NewChatPhotoMessage class *
 *********************************/

/**
 * A message which contains the new photo of the chat
 *
 * @extends Message
 */
class NewChatPhotoMessage extends Message {
	/**
	 * Creates a new NewChatPhotoMessage object
	 *
	 * @param {Object}Â message	A raw message object from an update
	 * @param {BotAPI} API	An instance of a BotAPI from teleapiwrapper which will be used to do stuff with this message
	 *
	 * @private
	 */
	constructor(message, API) {
		// Call the super constructor
		super(message, API);
	}

	// AFAIK the last in the array is the original
	/**
	 * The new photo of the chat, as a [PhotoSize]{@link https://core.telegram.org/bots/api#photosize}
	 *
	 * @type {Object}
	 * @property {String} file_id	ID of the photo
	 * @property {Integer} width	Width of the photo, in pixels
	 * @property {Integer} height	Height of the photo, in pixels
	 * @property {Integer} [file_size]	Size of the photo, in bytes
	 * @readonly
	 */
	get photo() {
		let photoArr = this.rawMessage.new_chat_photo;
		return photoArr[photoArr.length-1];
	}

}

/***********
 * Exports *
 ***********/

module.exports = NewChatPhotoMessage;
